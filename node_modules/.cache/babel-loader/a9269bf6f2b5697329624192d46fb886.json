{"ast":null,"code":"var _jsxFileName = \"/home/dom/FlyM/src/components/Search.js\",\n    _s = $RefreshSig$();\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { useState } from \"react\";\nimport { searchFlights } from \"../store/actions/searchFlightActions\";\nimport { useDispatch } from \"react-redux\";\nimport { dateFormatter } from \"../utility/dateFormatter\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Search.scss\";\nimport axios from \"axios\";\nimport flying from \"./../assets/images/flying.png\";\nimport flyingAvif from \"./../assets/images/flying.avif\";\nimport flyingWebp from \"./../assets/images/flying.webp\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const [fromLandmark, setFromLandmark] = useState(\"\");\n  const [toDestination, setToDestination] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [suggestions, setSuggestions] = useState(\"\");\n  const [sourceSuggestion, setSourceSuggestion] = useState(\"\");\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const useStyles = makeStyles(theme => ({\n    root: {\n      flexGrow: 1\n    },\n    centralised: {\n      justifyContent: \"center\"\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: \"center\",\n      color: theme.palette.text.secondary\n    },\n    formfield: {\n      padding: \"10px 0px\"\n    }\n  }));\n  const classes = useStyles();\n\n  const submitHandler = event => {\n    event.preventDefault();\n    let formattedDate = dateFormatter(date);\n    dispatch(searchFlights({\n      to: toDestination,\n      from: fromLandmark,\n      date: formattedDate\n    }));\n    navigate(\"/FlyM/browse-page\");\n  };\n  /**\n   * Destination change handler\n   * @param {*} e\n   * @returns {void}\n   */\n\n\n  const destinationChangeHandler = async e => {\n    setToDestination(e.target.value);\n    let value = e.target.value;\n    const list = await axios.get(\"https://backendflym.herokuapp.com/api/getAll\");\n    let items = [];\n    list.data.forEach(listItem => {\n      items.push(listItem.name);\n    });\n\n    if (value.length > 0) {\n      const regex = new RegExp(`^${value}`, `i`);\n      setSuggestions(items.sort().filter(v => regex.test(v)));\n    }\n\n    if (value.length === 0) {\n      setSuggestions(\"\");\n    }\n  };\n  /**\n   * Renders the suggestion for destination\n   * @returns\n   */\n\n\n  const renderDestinationSuggestions = () => {\n    if (suggestions.length === 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: suggestions.map(city => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: e => destinationSuggestionSelected(city),\n        children: city\n      }, city, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  };\n  /**\n   * On Selection of destination suggestion.\n   * @param {*} value\n   */\n\n\n  const destinationSuggestionSelected = value => {\n    setToDestination(value);\n    setSuggestions(\"\");\n  };\n  /**\n   * Chnage handler for landmark.\n   * @param {*} e\n   */\n\n\n  const sourceChangeHandler = async e => {\n    setFromLandmark(e.target.value);\n    let value = e.target.value;\n    const list = await axios.get(\"https://backendflym.herokuapp.com/api/getAll\");\n    let items = [];\n    list.data.forEach(listItem => {\n      items.push(listItem.name);\n    });\n\n    if (value.length > 0) {\n      const regex = new RegExp(`^${value}`, `i`);\n      setSourceSuggestion(items.sort().filter(v => regex.test(v)));\n    }\n\n    if (value.length === 0) {\n      setSourceSuggestion(\"\");\n    }\n  };\n  /**\n   * Renders the suggestion for source\n   * @returns\n   */\n\n\n  const renderSourceSuggestions = () => {\n    if (sourceSuggestion.length === 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: sourceSuggestion.map(city => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: e => sourceSuggestionSelected(city),\n        children: city\n      }, city, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this);\n  };\n  /**\n   * On Selection of source suggestion.\n   * @param {*} value\n   */\n\n\n  const sourceSuggestionSelected = value => {\n    setFromLandmark(value);\n    setSourceSuggestion(\"\");\n  };\n  /**\n   * Date change handler.\n   * @param {*} e\n   */\n\n\n  const dateChangeHandler = e => {\n    setDate(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `grid ${classes.root}`,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        className: classes.centralised,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          md: 6,\n          xl: 6,\n          className: \"left\",\n          children: /*#__PURE__*/_jsxDEV(\"picture\", {\n            children: [/*#__PURE__*/_jsxDEV(\"source\", {\n              srcSet: flyingAvif,\n              type: \"image/avif\",\n              loading: \"eager\",\n              fetchpriority: \"high\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"source\", {\n              srcSet: flyingWebp,\n              type: \"image/webp\",\n              loading: \"eager\",\n              fetchpriority: \"high\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: flying,\n              className: \"home-image\",\n              loading: \"eager\",\n              fetchpriority: \"high\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 6,\n          md: 6,\n          xl: 6,\n          className: \"form-container\",\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            className: classes.paper,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"marquee\",\n              children: \"Book your flights\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"marquee-description\",\n              children: \"Search available flights for your destination!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: classes[\"form\"],\n              onSubmit: submitHandler,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes[\"formfield\"],\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"labels\",\n                  children: \"Select your destination\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"TypeAheadDropDown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    \"aria-label\": \"ToDestination\",\n                    \"aria-required\": \"true\",\n                    value: toDestination,\n                    onChange: destinationChangeHandler,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 21\n                  }, this), renderDestinationSuggestions()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes[\"formfield\"],\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"labels\",\n                  children: \"Select your location\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"TypeAheadDropDown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    \"aria-label\": \"FromLandmark\",\n                    value: fromLandmark,\n                    onChange: sourceChangeHandler,\n                    \"aria-required\": \"true\",\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this), renderSourceSuggestions()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: classes[\"formfield\"],\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"labels\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calender\",\n                  children: /*#__PURE__*/_jsxDEV(DatePicker, {\n                    selected: date,\n                    onChange: date => setDate(date)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                type: \"submit\",\n                className: \"search-flights-button\",\n                children: \"Search Flights\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"s3J1kzJQFbXE2H91TBpjPbGzqJY=\", true, function () {\n  return [useDispatch, useNavigate];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/home/dom/FlyM/src/components/Search.js"],"names":["makeStyles","Paper","Grid","Button","useState","searchFlights","useDispatch","dateFormatter","useNavigate","axios","flying","flyingAvif","flyingWebp","DatePicker","Search","fromLandmark","setFromLandmark","toDestination","setToDestination","date","setDate","suggestions","setSuggestions","sourceSuggestion","setSourceSuggestion","dispatch","navigate","useStyles","theme","root","flexGrow","centralised","justifyContent","paper","padding","spacing","textAlign","color","palette","text","secondary","formfield","classes","submitHandler","event","preventDefault","formattedDate","to","from","destinationChangeHandler","e","target","value","list","get","items","data","forEach","listItem","push","name","length","regex","RegExp","sort","filter","v","test","renderDestinationSuggestions","map","city","destinationSuggestionSelected","sourceChangeHandler","renderSourceSuggestions","sourceSuggestionSelected","dateChangeHandler"],"mappings":"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","sourcesContent":["import { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { useState } from \"react\";\nimport { searchFlights } from \"../store/actions/searchFlightActions\";\nimport { useDispatch } from \"react-redux\";\nimport { dateFormatter } from \"../utility/dateFormatter\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Search.scss\";\nimport axios from \"axios\";\nimport flying from \"./../assets/images/flying.png\";\nimport flyingAvif from \"./../assets/images/flying.avif\";\nimport flyingWebp from \"./../assets/images/flying.webp\"\n\nimport DatePicker from \"react-datepicker\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nconst Search = () => {\n  const [fromLandmark, setFromLandmark] = useState(\"\");\n  const [toDestination, setToDestination] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n\n  const [suggestions, setSuggestions] = useState(\"\");\n  const [sourceSuggestion, setSourceSuggestion] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,\n    },\n    centralised: {\n      justifyContent: \"center\",\n    },\n    paper: {\n      padding: theme.spacing(2),\n      textAlign: \"center\",\n      color: theme.palette.text.secondary,\n    },\n    formfield: {\n      padding: \"10px 0px\",\n    },\n  }));\n  const classes = useStyles();\n  const submitHandler = (event) => {\n    event.preventDefault();\n    let formattedDate = dateFormatter(date);\n    dispatch(\n      searchFlights({\n        to: toDestination,\n        from: fromLandmark,\n        date: formattedDate,\n      })\n    );\n    navigate(\"/FlyM/browse-page\");\n  };\n\n  /**\n   * Destination change handler\n   * @param {*} e\n   * @returns {void}\n   */\n  const destinationChangeHandler = async (e) => {\n    setToDestination(e.target.value);\n    let value = e.target.value;\n    const list = await axios.get(\n      \"https://backendflym.herokuapp.com/api/getAll\"\n    );\n    let items = [];\n    list.data.forEach((listItem) => {\n      items.push(listItem.name);\n    });\n\n    if (value.length > 0) {\n      const regex = new RegExp(`^${value}`, `i`);\n      setSuggestions(items.sort().filter((v) => regex.test(v)));\n    }\n    if (value.length === 0) {\n      setSuggestions(\"\");\n    }\n  };\n\n  /**\n   * Renders the suggestion for destination\n   * @returns\n   */\n  const renderDestinationSuggestions = () => {\n    if (suggestions.length === 0) {\n      return null;\n    }\n    return (\n      <ul>\n        {suggestions.map((city) => (\n          <li key={city} onClick={(e) => destinationSuggestionSelected(city)}>\n            {city}\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  /**\n   * On Selection of destination suggestion.\n   * @param {*} value\n   */\n  const destinationSuggestionSelected = (value) => {\n    setToDestination(value);\n    setSuggestions(\"\");\n  };\n\n  /**\n   * Chnage handler for landmark.\n   * @param {*} e\n   */\n  const sourceChangeHandler = async (e) => {\n    setFromLandmark(e.target.value);\n    let value = e.target.value;\n    const list = await axios.get(\n      \"https://backendflym.herokuapp.com/api/getAll\"\n    );\n    let items = [];\n    list.data.forEach((listItem) => {\n      items.push(listItem.name);\n    });\n\n    if (value.length > 0) {\n      const regex = new RegExp(`^${value}`, `i`);\n      setSourceSuggestion(items.sort().filter((v) => regex.test(v)));\n    }\n    if (value.length === 0) {\n      setSourceSuggestion(\"\");\n    }\n  };\n\n  /**\n   * Renders the suggestion for source\n   * @returns\n   */\n  const renderSourceSuggestions = () => {\n    if (sourceSuggestion.length === 0) {\n      return null;\n    }\n    return (\n      <ul>\n        {sourceSuggestion.map((city) => (\n          <li key={city} onClick={(e) => sourceSuggestionSelected(city)}>\n            {city}\n          </li>\n        ))}\n      </ul>\n    );\n  };\n\n  /**\n   * On Selection of source suggestion.\n   * @param {*} value\n   */\n  const sourceSuggestionSelected = (value) => {\n    setFromLandmark(value);\n    setSourceSuggestion(\"\");\n  };\n\n  /**\n   * Date change handler.\n   * @param {*} e\n   */\n  const dateChangeHandler = (e) => {\n    setDate(e.target.value);\n  };\n\n  return (\n    <div className=\"search\">\n      <div className={`grid ${classes.root}`}>\n        <Grid container className={classes.centralised}>\n          <Grid item xs={6} md={6} xl={6} className=\"left\">\n            <picture>\n              <source srcSet={flyingAvif} type=\"image/avif\" loading=\"eager\" fetchpriority=\"high\"></source>\n              <source srcSet={flyingWebp} type=\"image/webp\" loading=\"eager\" fetchpriority=\"high\"></source>\n              <img src={flying} className=\"home-image\" loading=\"eager\" fetchpriority=\"high\"></img>\n            </picture>\n          </Grid>\n          <Grid item xs={6} md={6} xl={6} className=\"form-container\">\n            <Paper className={classes.paper}>\n              <p className=\"marquee\">Book your flights</p>\n              <p className=\"marquee-description\">Search available flights for your destination!</p>\n              <form className={classes[\"form\"]} onSubmit={submitHandler}>\n                <div className={classes[\"formfield\"]}>\n                  <label className=\"labels\">Select your destination</label>\n                  <div className=\"TypeAheadDropDown\">\n                    <input\n                      type=\"text\"\n                      aria-label=\"ToDestination\"\n                      aria-required=\"true\"\n                      value={toDestination}\n                      onChange={destinationChangeHandler}\n                      required\n                    ></input>\n                    {renderDestinationSuggestions()}\n                  </div>\n                </div>\n                <div className={classes[\"formfield\"]}>\n                  <label className=\"labels\">Select your location</label>\n                  <div className=\"TypeAheadDropDown\">\n                    <input\n                      type=\"text\"\n                      aria-label=\"FromLandmark\"\n                      value={fromLandmark}\n                      onChange={sourceChangeHandler}\n                      aria-required=\"true\"\n                      required\n                    ></input>\n                    {renderSourceSuggestions()}\n                  </div>\n                </div>\n                <div className={classes[\"formfield\"]}>\n                  <label className=\"labels\">Date</label>\n                  <div className=\"calender\">\n                  <DatePicker selected={date} onChange={(date) => setDate(date)} />\n                  {/* <input\n                    type=\"date\"\n                    aria-label=\"DateOfTravelling\"\n                    value={date}\n                    onChange={dateChangeHandler}\n                    aria-required=\"true\"\n                    className=\"datepicker-input\"\n                    required\n                  ></input> */}\n                  </div>\n                </div>\n                <Button color=\"primary\" type=\"submit\" className=\"search-flights-button\">\n                  Search Flights\n                </Button>\n              </form>\n            </Paper>\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}