{"ast":null,"code":"\"use strict\";\n\nvar sessionAuth = require(\"./session-shared.js\");\n\nvar jsxRuntime = require(\"react/jsx-runtime\");\n\nvar React = require(\"react\");\n\nvar translationContext = require(\"./translationContext.js\");\n\nvar reactDom = require(\"react-dom\");\n\nfunction _interopDefault(e) {\n  return e && e.__esModule ? e : {\n    default: e\n  };\n}\n\nvar React__default = /*#__PURE__*/_interopDefault(React);\n\nvar createGenericComponentsOverrideContext = function (v) {\n  if (v === void 0) {\n    v = {};\n  }\n\n  var genericContext = React__default.default.createContext(v);\n\n  var useComponentsOverrideContext = function () {\n    return React__default.default.useContext(genericContext);\n  };\n\n  var Provider = function (_a) {\n    var children = _a.children,\n        components = _a.components;\n    return jsxRuntime.jsx(genericContext.Provider, sessionAuth.__assign({\n      value: components\n    }, {\n      children: children\n    }));\n  };\n\n  return [useComponentsOverrideContext, Provider, genericContext.Consumer];\n};\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\n\nfunction hasFontDefined(style) {\n  if (style === undefined) {\n    return false;\n  }\n\n  var lowerStyle = style.toLowerCase();\n  return lowerStyle.includes(\"font-family:\") || lowerStyle.includes(\"font:\");\n}\n\nvar ComponentOverrideContext = React__default.default.createContext(\"IS_DEFAULT\");\n\nvar useComponentOverride = function (overrideKey) {\n  var ctx = React.useContext(ComponentOverrideContext);\n\n  if (ctx === \"IS_DEFAULT\") {\n    throw new Error(\"Cannot use component override outside ComponentOverrideContext provider.\");\n  }\n\n  var OverrideComponent = ctx[overrideKey];\n  return OverrideComponent === undefined ? null : OverrideComponent;\n};\n\nvar withOverride = function (overrideKey, DefaultComponent) {\n  var finalKey = overrideKey + \"_Override\";\n  DefaultComponent.displayName = finalKey;\n  return function (props) {\n    var OverrideComponent = useComponentOverride(finalKey);\n\n    if (OverrideComponent !== null) {\n      return jsxRuntime.jsx(OverrideComponent, sessionAuth.__assign({\n        DefaultComponent: DefaultComponent\n      }, props));\n    }\n\n    return jsxRuntime.jsx(DefaultComponent, sessionAuth.__assign({}, props));\n  };\n};\n\nfunction GeneralError(_a) {\n  var error = _a.error;\n  var t = translationContext.useTranslation();\n  return jsxRuntime.jsx(\"div\", sessionAuth.__assign({\n    \"data-supertokens\": \"generalError\"\n  }, {\n    children: t(error)\n  }));\n}\n\nvar commonjsGlobal = typeof globalThis !== \"undefined\" ? globalThis : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : {};\n\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\n\nvar build = {};\nvar getProxyObject$1 = {};\n\nvar __assign = commonjsGlobal && commonjsGlobal.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(getProxyObject$1, \"__esModule\", {\n  value: true\n});\ngetProxyObject$1.getProxyObject = void 0;\n\nfunction getProxyObject(orig) {\n  var ret = __assign(__assign({}, orig), {\n    _call: function (_, __) {\n      throw new Error(\"This function should only be called through the recipe object\");\n    }\n  });\n\n  var keys = Object.keys(ret);\n\n  var _loop_1 = function (k) {\n    if (k !== \"_call\") {\n      ret[k] = function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        return this._call(k, args);\n      };\n    }\n  };\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var k = keys_1[_i];\n\n    _loop_1(k);\n  }\n\n  return ret;\n}\n\ngetProxyObject$1.getProxyObject = getProxyObject;\nObject.defineProperty(build, \"__esModule\", {\n  value: true\n});\nexports.OverrideableBuilder_1 = build.OverrideableBuilder = void 0;\nvar getProxyObject_1 = getProxyObject$1;\n\nvar OverrideableBuilder =\n/** @class */\nfunction () {\n  function OverrideableBuilder(originalImplementation) {\n    this.layers = [originalImplementation];\n    this.proxies = [];\n  }\n\n  OverrideableBuilder.prototype.override = function (overrideFunc) {\n    var proxy = (0, getProxyObject_1.getProxyObject)(this.layers[0]);\n    var layer = overrideFunc(proxy, this);\n\n    for (var _i = 0, _a = Object.keys(this.layers[0]); _i < _a.length; _i++) {\n      var key = _a[_i];\n\n      if (layer[key] === proxy[key] || key === \"_call\") {\n        delete layer[key];\n      } else if (layer[key] === undefined) {\n        layer[key] = null;\n      }\n    }\n\n    this.layers.push(layer);\n    this.proxies.push(proxy);\n    return this;\n  };\n\n  OverrideableBuilder.prototype.build = function () {\n    var _this = this;\n\n    if (this.result) {\n      return this.result;\n    }\n\n    this.result = {};\n\n    for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n      var layer = _a[_i];\n\n      for (var _b = 0, _c = Object.keys(layer); _b < _c.length; _b++) {\n        var key = _c[_b];\n        var override = layer[key];\n\n        if (override !== undefined) {\n          if (override === null) {\n            this.result[key] = undefined;\n          } else if (typeof override === \"function\") {\n            this.result[key] = override.bind(this.result);\n          } else {\n            this.result[key] = override;\n          }\n        }\n      }\n    }\n\n    var _loop_1 = function (proxyInd) {\n      var proxy = this_1.proxies[proxyInd];\n\n      proxy._call = function (fname, args) {\n        for (var i = proxyInd; i >= 0; --i) {\n          var func = _this.layers[i][fname];\n\n          if (func !== undefined && func !== null) {\n            return func.bind(_this.result).apply(void 0, args);\n          }\n        }\n      };\n    };\n\n    var this_1 = this;\n\n    for (var proxyInd = 0; proxyInd < this.proxies.length; ++proxyInd) {\n      _loop_1(proxyInd);\n    }\n\n    return this.result;\n  };\n\n  return OverrideableBuilder;\n}();\n\nexports.OverrideableBuilder_1 = build.OverrideableBuilder = OverrideableBuilder;\nbuild.default = OverrideableBuilder;\n/*\n * Component.\n */\n\nvar ErrorBoundary =\n/** @class */\nfunction (_super) {\n  sessionAuth.__extends(ErrorBoundary, _super);\n\n  function ErrorBoundary(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      hasError: false\n    };\n    return _this;\n  }\n\n  ErrorBoundary.getDerivedStateFromError = function () {\n    return {\n      hasError: true\n    };\n  };\n\n  ErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n    console.info(error, errorInfo);\n  };\n\n  ErrorBoundary.prototype.render = function () {\n    if (this.state.hasError) {\n      return jsxRuntime.jsx(React.Fragment, {});\n    }\n\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React__default.default.Component);\n\nfunction FeatureWrapper(_a) {\n  var children = _a.children,\n      useShadowDom = _a.useShadowDom,\n      defaultStore = _a.defaultStore;\n  var st = sessionAuth.SuperTokens.getInstanceOrThrow();\n  return jsxRuntime.jsx(ErrorBoundary, {\n    children: jsxRuntime.jsx(translationContext.TranslationContextProvider, sessionAuth.__assign({\n      defaultLanguage: st.languageTranslations.defaultLanguage,\n      defaultStore: sessionAuth.mergeObjects(defaultStore, st.languageTranslations.userTranslationStore),\n      translationControlEventSource: st.languageTranslations.translationEventSource,\n      userTranslationFunc: st.languageTranslations.userTranslationFunc\n    }, {\n      children: jsxRuntime.jsx(WithOrWithoutShadowDom, sessionAuth.__assign({\n        useShadowDom: useShadowDom\n      }, {\n        children: children\n      }))\n    }))\n  });\n}\n\nfunction WithShadowDom(_a) {\n  var children = _a.children;\n  var rootDiv = React.useRef(null);\n\n  var _b = React.useState(),\n      shadowRoot = _b[0],\n      setShadowRoot = _b[1];\n\n  React.useEffect(function () {\n    if (rootDiv.current) {\n      // defaults from react-shadow\n      setShadowRoot(function (os) {\n        return os || rootDiv.current.attachShadow({\n          mode: \"open\",\n          delegatesFocus: false\n        });\n      });\n    }\n  }, [rootDiv]); // Otherwise, use shadow dom.\n\n  return jsxRuntime.jsx(\"div\", sessionAuth.__assign({\n    id: sessionAuth.ST_ROOT_ID,\n    ref: rootDiv\n  }, {\n    children: shadowRoot && reactDom.createPortal(children, shadowRoot)\n  }));\n}\n\nfunction WithOrWithoutShadowDom(_a) {\n  var children = _a.children,\n      useShadowDom = _a.useShadowDom; // If explicitely specified to not use shadow dom.\n\n  if (useShadowDom === false) {\n    return jsxRuntime.jsxs(\"div\", sessionAuth.__assign({\n      id: sessionAuth.ST_ROOT_ID\n    }, {\n      children: [children, jsxRuntime.jsx(DisableAutoFillInput, {})]\n    }));\n  }\n\n  return jsxRuntime.jsxs(WithShadowDom, {\n    children: [children, jsxRuntime.jsx(DisableAutoFillInput, {})]\n  });\n}\n\nfunction DisableAutoFillInput() {\n  /* eslint-disable react/jsx-no-literals */\n  return jsxRuntime.jsx(\"style\", sessionAuth.__assign({\n    type: \"text/css\"\n  }, {\n    children: \"input.supertokens-input:-webkit-autofill,input.supertokens-input:-webkit-autofill:focus,input.supertokens-input:-webkit-autofill:hover,select:-webkit-autofill,select:-webkit-autofill:focus,select:-webkit-autofill:hover,textarea:-webkit-autofill,textarea:-webkit-autofill:focus,textarea:-webkit-autofill:hover{transition:background-color 5000s ease-in-out 0s}\"\n  }));\n  /* eslint-enable react/jsx-no-literals */\n}\n\nvar defaultTranslationsCommon = {\n  en: {\n    BRANDING_POWERED_BY_START: \"Powered by \",\n    BRANDING_POWERED_BY_END: \"\",\n    SOMETHING_WENT_WRONG_ERROR: \"Something went wrong. Please try again.\"\n  }\n};\nexports.ComponentOverrideContext = ComponentOverrideContext;\nexports.FeatureWrapper = FeatureWrapper;\nexports.GeneralError = GeneralError;\nexports.createGenericComponentsOverrideContext = createGenericComponentsOverrideContext;\nexports.defaultTranslationsCommon = defaultTranslationsCommon;\nexports.getDefaultExportFromCjs = getDefaultExportFromCjs;\nexports.hasFontDefined = hasFontDefined;\nexports.withOverride = withOverride;","map":{"version":3,"mappings":"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","names":["commonjsGlobal","globalThis","window","global","self","getProxyObject_1","x","Object","getProxyObject$1","__assign","t","s","value","ret","OverrideableBuilder_1","Error","require$$0","keys","_loop_1","k","args","_i","arguments","_call","keys_1","getProxyObject","build","exports","OverrideableBuilder","originalImplementation","layers","proxies","override","overrideFunc","proxy","_a","key","undefined","layer","push","_this","result","_b"],"sources":["/home/dom/FlyM/node_modules/supertokens-auth-react/node_modules/supertokens-js-override/lib/build/getProxyObject.js","/home/dom/FlyM/node_modules/supertokens-auth-react/node_modules/supertokens-js-override/lib/build/index.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getProxyObject = void 0;\nfunction getProxyObject(orig) {\n    var ret = __assign(__assign({}, orig), { _call: function (_, __) {\n            throw new Error(\"This function should only be called through the recipe object\");\n        } });\n    var keys = Object.keys(ret);\n    var _loop_1 = function (k) {\n        if (k !== \"_call\") {\n            ret[k] = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return this._call(k, args);\n            };\n        }\n    };\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        _loop_1(k);\n    }\n    return ret;\n}\nexports.getProxyObject = getProxyObject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OverrideableBuilder = void 0;\nvar getProxyObject_1 = require(\"./getProxyObject\");\nvar OverrideableBuilder = /** @class */ (function () {\n    function OverrideableBuilder(originalImplementation) {\n        this.layers = [originalImplementation];\n        this.proxies = [];\n    }\n    OverrideableBuilder.prototype.override = function (overrideFunc) {\n        var proxy = (0, getProxyObject_1.getProxyObject)(this.layers[0]);\n        var layer = overrideFunc(proxy, this);\n        for (var _i = 0, _a = Object.keys(this.layers[0]); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (layer[key] === proxy[key] || key === \"_call\") {\n                delete layer[key];\n            }\n            else if (layer[key] === undefined) {\n                layer[key] = null;\n            }\n        }\n        this.layers.push(layer);\n        this.proxies.push(proxy);\n        return this;\n    };\n    OverrideableBuilder.prototype.build = function () {\n        var _this = this;\n        if (this.result) {\n            return this.result;\n        }\n        this.result = {};\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n            var layer = _a[_i];\n            for (var _b = 0, _c = Object.keys(layer); _b < _c.length; _b++) {\n                var key = _c[_b];\n                var override = layer[key];\n                if (override !== undefined) {\n                    if (override === null) {\n                        this.result[key] = undefined;\n                    }\n                    else if (typeof override === \"function\") {\n                        this.result[key] = override.bind(this.result);\n                    }\n                    else {\n                        this.result[key] = override;\n                    }\n                }\n            }\n        }\n        var _loop_1 = function (proxyInd) {\n            var proxy = this_1.proxies[proxyInd];\n            proxy._call = function (fname, args) {\n                for (var i = proxyInd; i >= 0; --i) {\n                    var func = _this.layers[i][fname];\n                    if (func !== undefined && func !== null) {\n                        return func.bind(_this.result).apply(void 0, args);\n                    }\n                }\n            };\n        };\n        var this_1 = this;\n        for (var proxyInd = 0; proxyInd < this.proxies.length; ++proxyInd) {\n            _loop_1(proxyInd);\n        }\n        return this.result;\n    };\n    return OverrideableBuilder;\n}());\nexports.OverrideableBuilder = OverrideableBuilder;\nexports.default = OverrideableBuilder;\n"]},"metadata":{},"sourceType":"script"}