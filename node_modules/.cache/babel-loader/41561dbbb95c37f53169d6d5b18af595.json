{"ast":null,"code":"var _jsxFileName = \"/home/dom/FlyM/src/components/SignUp.js\",\n    _s = $RefreshSig$();\n\n// import React, { useState } from 'react';\n// import firebase from 'firebase/compat/app';\n// import 'firebase/compat/firestore';\n// const SignUp = () => {\n//   const [email, setEmail] = useState('');\n//   const [password, setPassword] = useState('');\n//   const handleSignUp = async () => {\n//     try {\n//       const res = await firebase.auth().createUserWithEmailAndPassword(email, password);\n//       const user = res.user;\n//       await firebase.firestore().collection('users').doc(user.uid).set({\n//         email: user.email,\n//       });\n//     } catch (error) {\n//       console.log(error);\n//     }\n//   };\n//   return (\n//     <div>\n//       <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n//       <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n//       <button onClick={handleSignUp}>Sign Up</button>\n//     </div>\n//   );\n// };\n// export default SignUp;\nimport React, { useState } from \"react\";\nimport { getModalStyle, useStyles } from \"../App\";\nimport { auth, storage, googleProvider, facebookProvider } from \"../lib/firebase\";\nimport { useSnackbar } from \"notistack\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSquareFacebook, faGoogle } from \"@fortawesome/free-brands-svg-icons\";\nimport { faRightToBracket } from \"@fortawesome/free-solid-svg-icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignUp = () => {\n  _s();\n\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [signingUp, setSigningUp] = useState(false);\n  const [image, setImage] = useState(null);\n  const [address, setAddress] = useState(null);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const navigate = useNavigate();\n\n  const handleChange = e => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n      setAddress(e.target.value);\n    }\n  };\n\n  const signUp = e => {\n    e.preventDefault();\n    setSigningUp(true);\n    auth.createUserWithEmailAndPassword(email, password).then(authUser => {\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n      uploadTask.on(\"state_changed\", () => {// // progress function ...\n        // setProgress(Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100));\n      }, error => {\n        // error function ...\n        enqueueSnackbar(error.message, {\n          variant: \"error\"\n        });\n      }, () => {\n        // complete function ...\n        storage.ref(\"images\").child(image.name).getDownloadURL().then(url => {\n          authUser.user.updateProfile({\n            displayName: username,\n            photoURL: url\n          });\n          enqueueSnackbar(\"Signup Successful!\", {\n            variant: \"success\"\n          });\n        });\n      });\n      window.location.href = \"/dummygram/\";\n    }) // .then(() => {\n    // })\n    .catch(error => enqueueSnackbar(error.message, {\n      variant: \"error\"\n    })).finally(() => {\n      setSigningUp(false);\n    });\n  };\n\n  const signInWithGoogle = e => {\n    e.preventDefault();\n    auth.signInWithPopup(googleProvider).then(() => {\n      enqueueSnackbar(\"Signin successful!\", {\n        variant: \"success\"\n      });\n    }).catch(error => enqueueSnackbar(error.message, {\n      variant: \"error\"\n    }));\n  };\n\n  const signInWithFacebook = e => {\n    e.preventDefault();\n    auth.signInWithPopup(facebookProvider).then(() => {\n      enqueueSnackbar(\"Signin successful!\", {\n        variant: \"success\"\n      });\n    }).catch(error => enqueueSnackbar(error.message, {\n      variant: \"error\"\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      alignContent: \"center\",\n      justifyContent: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalStyle,\n      className: classes.paper,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"modal__signup\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"file\",\n          className: \"file\",\n          onChange: handleChange,\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"file\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"img-outer\",\n            children: address ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: URL.createObjectURL(image),\n              alt: \"profile pic\",\n              className: \"img-inner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"img-inner\",\n              children: \"Profile Picture\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \" Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \" Password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: signUp,\n          className: \"button signup\",\n          children: [\"Sign Up \", /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faRightToBracket\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"or\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"9px\"\n            },\n            children: \"or\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"google-fb-login\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: signInWithGoogle,\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faGoogle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button\",\n            onClick: signInWithFacebook,\n            children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faSquareFacebook\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            navigate(\"/dummygram/login\");\n          },\n          className: \"button reg\",\n          children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 38\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignUp, \"MOURygCLorQB/lbwfsWWmridnSg=\", false, function () {\n  return [useStyles, useSnackbar, useNavigate];\n});\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/home/dom/FlyM/src/components/SignUp.js"],"names":["React","useState","getModalStyle","useStyles","auth","storage","googleProvider","facebookProvider","useSnackbar","useNavigate","FontAwesomeIcon","faSquareFacebook","faGoogle","faRightToBracket","SignUp","classes","modalStyle","username","setUsername","email","setEmail","password","setPassword","signingUp","setSigningUp","image","setImage","address","setAddress","enqueueSnackbar","navigate","handleChange","e","target","files","value","signUp","preventDefault","createUserWithEmailAndPassword","then","authUser","uploadTask","ref","name","put","on","error","message","variant","child","getDownloadURL","url","user","updateProfile","displayName","photoURL","window","location","href","catch","finally","signInWithGoogle","signInWithPopup","signInWithFacebook","display","alignContent","justifyContent","paper","URL","createObjectURL","padding"],"mappings":";;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,QAAzC;AACA,SACEC,IADF,EAEEC,OAFF,EAGEC,cAHF,EAIEC,gBAJF,QAKO,iBALP;AAMA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,gBAAT,EAA2BC,QAA3B,QAA2C,oCAA3C;AACA,SAASC,gBAAT,QAAiC,mCAAjC;;;AAIA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACnB,QAAMC,OAAO,GAAGZ,SAAS,EAAzB;AAEA,QAAM,CAACa,UAAD,IAAef,QAAQ,CAACC,aAAD,CAA7B;AACA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACoB,QAAD,EAAWC,WAAX,IAA0BrB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACsB,SAAD,EAAYC,YAAZ,IAA4BvB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACwB,KAAD,EAAQC,QAAR,IAAoBzB,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAAC0B,OAAD,EAAUC,UAAV,IAAwB3B,QAAQ,CAAC,IAAD,CAAtC;AAEA,QAAM;AAAE4B,IAAAA;AAAF,MAAsBrB,WAAW,EAAvC;AACA,QAAMsB,QAAQ,GAAGrB,WAAW,EAA5B;;AAEA,QAAMsB,YAAY,GAAIC,CAAD,IAAO;AAC1B,QAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAJ,EAAuB;AACrBR,MAAAA,QAAQ,CAACM,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACAN,MAAAA,UAAU,CAACI,CAAC,CAACC,MAAF,CAASE,KAAV,CAAV;AACD;AACF,GALD;;AAOA,QAAMC,MAAM,GAAIJ,CAAD,IAAO;AACpBA,IAAAA,CAAC,CAACK,cAAF;AACAb,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACApB,IAAAA,IAAI,CACDkC,8BADH,CACkCnB,KADlC,EACyCE,QADzC,EAEGkB,IAFH,CAESC,QAAD,IAAc;AAClB,YAAMC,UAAU,GAAGpC,OAAO,CAACqC,GAAR,CAAa,UAASjB,KAAK,CAACkB,IAAK,EAAjC,EAAoCC,GAApC,CAAwCnB,KAAxC,CAAnB;AACAgB,MAAAA,UAAU,CAACI,EAAX,CACE,eADF,EAEE,MAAM,CACJ;AACA;AACD,OALH,EAMGC,KAAD,IAAW;AACT;AAEAjB,QAAAA,eAAe,CAACiB,KAAK,CAACC,OAAP,EAAgB;AAC7BC,UAAAA,OAAO,EAAE;AADoB,SAAhB,CAAf;AAGD,OAZH,EAaE,MAAM;AACJ;AACA3C,QAAAA,OAAO,CACJqC,GADH,CACO,QADP,EAEGO,KAFH,CAESxB,KAAK,CAACkB,IAFf,EAGGO,cAHH,GAIGX,IAJH,CAISY,GAAD,IAAS;AACbX,UAAAA,QAAQ,CAACY,IAAT,CAAcC,aAAd,CAA4B;AAC1BC,YAAAA,WAAW,EAAErC,QADa;AAE1BsC,YAAAA,QAAQ,EAAEJ;AAFgB,WAA5B;AAIAtB,UAAAA,eAAe,CAAC,oBAAD,EAAuB;AACpCmB,YAAAA,OAAO,EAAE;AAD2B,WAAvB,CAAf;AAGD,SAZH;AAaD,OA5BH;AA8BAQ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,aAAvB;AACD,KAnCH,EAoCE;AAEA;AAtCF,KAuCGC,KAvCH,CAuCUb,KAAD,IACLjB,eAAe,CAACiB,KAAK,CAACC,OAAP,EAAgB;AAC7BC,MAAAA,OAAO,EAAE;AADoB,KAAhB,CAxCnB,EA4CGY,OA5CH,CA4CW,MAAM;AACbpC,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KA9CH;AA+CD,GAlDD;;AAmDA,QAAMqC,gBAAgB,GAAI7B,CAAD,IAAO;AAC9BA,IAAAA,CAAC,CAACK,cAAF;AACAjC,IAAAA,IAAI,CACD0D,eADH,CACmBxD,cADnB,EAEGiC,IAFH,CAEQ,MAAM;AACVV,MAAAA,eAAe,CAAC,oBAAD,EAAuB;AACpCmB,QAAAA,OAAO,EAAE;AAD2B,OAAvB,CAAf;AAGD,KANH,EAOGW,KAPH,CAOUb,KAAD,IACLjB,eAAe,CAACiB,KAAK,CAACC,OAAP,EAAgB;AAC7BC,MAAAA,OAAO,EAAE;AADoB,KAAhB,CARnB;AAYD,GAdD;;AAgBA,QAAMe,kBAAkB,GAAI/B,CAAD,IAAO;AAChCA,IAAAA,CAAC,CAACK,cAAF;AACAjC,IAAAA,IAAI,CACD0D,eADH,CACmBvD,gBADnB,EAEGgC,IAFH,CAEQ,MAAM;AACVV,MAAAA,eAAe,CAAC,oBAAD,EAAuB;AACpCmB,QAAAA,OAAO,EAAE;AAD2B,OAAvB,CAAf;AAGD,KANH,EAOGW,KAPH,CAOUb,KAAD,IACLjB,eAAe,CAACiB,KAAK,CAACC,OAAP,EAAgB;AAC7BC,MAAAA,OAAO,EAAE;AADoB,KAAhB,CARnB;AAYD,GAdD;;AAeA,sBACE;AACE,IAAA,KAAK,EAAE;AACLgB,MAAAA,OAAO,EAAE,MADJ;AAELC,MAAAA,YAAY,EAAE,QAFT;AAGLC,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA,2BAOE;AAAK,MAAA,KAAK,EAAElD,UAAZ;AAAwB,MAAA,SAAS,EAAED,OAAO,CAACoD,KAA3C;AAAA,6BACE;AAAM,QAAA,SAAS,EAAC,eAAhB;AAAA,gCACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,EAAE,EAAC,MAFL;AAGE,UAAA,SAAS,EAAC,MAHZ;AAIE,UAAA,QAAQ,EAAEpC,YAJZ;AAKE,UAAA,MAAM,EAAC;AALT;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAO,UAAA,OAAO,EAAC,MAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,sBACGJ,OAAO,gBACN;AACE,cAAA,GAAG,EAAEyC,GAAG,CAACC,eAAJ,CAAoB5C,KAApB,CADP;AAEE,cAAA,GAAG,EAAC,aAFN;AAGE,cAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA,oBADM,gBAON;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBARF,eAsBE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,WAAW,EAAC,UAFd;AAGE,UAAA,KAAK,EAAER,QAHT;AAIE,UAAA,QAAQ,EAAGe,CAAD,IAAOd,WAAW,CAACc,CAAC,CAACC,MAAF,CAASE,KAAV;AAJ9B;AAAA;AAAA;AAAA;AAAA,gBAtBF,eA4BE;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,WAAW,EAAC,QAFd;AAGE,UAAA,KAAK,EAAEhB,KAHT;AAIE,UAAA,QAAQ,EAAGa,CAAD,IAAOZ,QAAQ,CAACY,CAAC,CAACC,MAAF,CAASE,KAAV;AAJ3B;AAAA;AAAA;AAAA;AAAA,gBA5BF,eAkCE;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,WAAW,EAAC,WAFd;AAGE,UAAA,KAAK,EAAEd,QAHT;AAIE,UAAA,QAAQ,EAAGW,CAAD,IAAOV,WAAW,CAACU,CAAC,CAACC,MAAF,CAASE,KAAV;AAJ9B;AAAA;AAAA;AAAA;AAAA,gBAlCF,eAwCE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,OAAO,EAAEC,MAA/B;AAAuC,UAAA,SAAS,EAAC,eAAjD;AAAA,8CACU,QAAC,eAAD;AAAiB,YAAA,IAAI,EAAEvB;AAAvB;AAAA;AAAA;AAAA;AAAA,kBADV;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxCF,eA2CE;AAAK,UAAA,SAAS,EAAC,IAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAK,YAAA,KAAK,EAAE;AAAEyD,cAAAA,OAAO,EAAE;AAAX,aAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AAAK,YAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3CF,eAgDE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,kCACE;AAAQ,YAAA,SAAS,EAAC,QAAlB;AAA2B,YAAA,OAAO,EAAET,gBAApC;AAAA,mCACE,QAAC,eAAD;AAAiB,cAAA,IAAI,EAAEjD;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAQ,YAAA,SAAS,EAAC,QAAlB;AAA2B,YAAA,OAAO,EAAEmD,kBAApC;AAAA,mCACE,QAAC,eAAD;AAAiB,cAAA,IAAI,EAAEpD;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhDF,eAwDE;AACE,UAAA,OAAO,EAAE,MAAM;AACbmB,YAAAA,QAAQ,CAAC,kBAAD,CAAR;AACD,WAHH;AAIE,UAAA,SAAS,EAAC,YAJZ;AAAA,+DAM2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAN3B;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxDF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAPF;AAAA;AAAA;AAAA;AAAA,UADF;AA6ED,CApLD;;GAAMhB,M;UACYX,S,EAUYK,W,EACXC,W;;;KAZbK,M;AAsLN,eAAeA,MAAf","sourcesContent":["// import React, { useState } from 'react';\n// import firebase from 'firebase/compat/app';\n// import 'firebase/compat/firestore';\n\n// const SignUp = () => {\n//   const [email, setEmail] = useState('');\n//   const [password, setPassword] = useState('');\n\n//   const handleSignUp = async () => {\n//     try {\n//       const res = await firebase.auth().createUserWithEmailAndPassword(email, password);\n//       const user = res.user;\n//       await firebase.firestore().collection('users').doc(user.uid).set({\n//         email: user.email,\n//       });\n//     } catch (error) {\n//       console.log(error);\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n//       <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n//       <button onClick={handleSignUp}>Sign Up</button>\n//     </div>\n//   );\n// };\n\n// export default SignUp;\n\nimport React, { useState } from \"react\";\nimport { getModalStyle, useStyles } from \"../App\";\nimport {\n  auth,\n  storage,\n  googleProvider,\n  facebookProvider,\n} from \"../lib/firebase\";\nimport { useSnackbar } from \"notistack\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSquareFacebook, faGoogle } from \"@fortawesome/free-brands-svg-icons\";\nimport { faRightToBracket } from \"@fortawesome/free-solid-svg-icons\";\n\n\n\nconst SignUp = () => {\n  const classes = useStyles();\n\n  const [modalStyle] = useState(getModalStyle);\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [signingUp, setSigningUp] = useState(false);\n  const [image, setImage] = useState(null);\n  const [address, setAddress] = useState(null);\n\n  const { enqueueSnackbar } = useSnackbar();\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n      setAddress(e.target.value);\n    }\n  };\n\n  const signUp = (e) => {\n    e.preventDefault();\n    setSigningUp(true);\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\n        uploadTask.on(\n          \"state_changed\",\n          () => {\n            // // progress function ...\n            // setProgress(Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100));\n          },\n          (error) => {\n            // error function ...\n\n            enqueueSnackbar(error.message, {\n              variant: \"error\",\n            });\n          },\n          () => {\n            // complete function ...\n            storage\n              .ref(\"images\")\n              .child(image.name)\n              .getDownloadURL()\n              .then((url) => {\n                authUser.user.updateProfile({\n                  displayName: username,\n                  photoURL: url,\n                });\n                enqueueSnackbar(\"Signup Successful!\", {\n                  variant: \"success\",\n                });\n              });\n          }\n        );\n        window.location.href = \"/dummygram/\";\n      })\n      // .then(() => {\n\n      // })\n      .catch((error) =>\n        enqueueSnackbar(error.message, {\n          variant: \"error\",\n        })\n      )\n      .finally(() => {\n        setSigningUp(false);\n      });\n  };\n  const signInWithGoogle = (e) => {\n    e.preventDefault();\n    auth\n      .signInWithPopup(googleProvider)\n      .then(() => {\n        enqueueSnackbar(\"Signin successful!\", {\n          variant: \"success\",\n        });\n      })\n      .catch((error) =>\n        enqueueSnackbar(error.message, {\n          variant: \"error\",\n        })\n      );\n  };\n\n  const signInWithFacebook = (e) => {\n    e.preventDefault();\n    auth\n      .signInWithPopup(facebookProvider)\n      .then(() => {\n        enqueueSnackbar(\"Signin successful!\", {\n          variant: \"success\",\n        });\n      })\n      .catch((error) =>\n        enqueueSnackbar(error.message, {\n          variant: \"error\",\n        })\n      );\n  };\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignContent: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <div style={modalStyle} className={classes.paper}>\n        <form className=\"modal__signup\">\n          <input\n            type=\"file\"\n            id=\"file\"\n            className=\"file\"\n            onChange={handleChange}\n            accept=\"image/*\"\n          />\n          <label htmlFor=\"file\">\n            <div className=\"img-outer\">\n              {address ? (\n                <img\n                  src={URL.createObjectURL(image)}\n                  alt=\"profile pic\"\n                  className=\"img-inner\"\n                />\n              ) : (\n                <div className=\"img-inner\">Profile Picture</div>\n              )}\n            </div>\n          </label>\n\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <input\n            type=\"email\"\n            placeholder=\" Email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n          <input\n            type=\"password\"\n            placeholder=\" Password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          <button type=\"submit\" onClick={signUp} className=\"button signup\">\n            Sign Up <FontAwesomeIcon icon={faRightToBracket} />\n          </button>\n          <div className=\"or\">\n            <div className=\"line\" />\n            <div style={{ padding: \"9px\" }}>or</div>\n            <div className=\"line\" />\n          </div>\n          <div className=\"google-fb-login\">\n            <button className=\"button\" onClick={signInWithGoogle}>\n              <FontAwesomeIcon icon={faGoogle} />\n            </button>\n            <button className=\"button\" onClick={signInWithFacebook}>\n              <FontAwesomeIcon icon={faSquareFacebook} />\n            </button>\n          </div>\n          <button\n            onClick={() => {\n              navigate(\"/dummygram/login\");\n            }}\n            className=\"button reg\"\n          >\n            Already have an account? <span>Sign in</span>\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n\n\n "]},"metadata":{},"sourceType":"module"}